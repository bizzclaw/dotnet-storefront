@model IEnumerable<StoreFront.Models.Product>

@{
    ViewData["Title"] = "StoreFront Bear Kingdom - Products";
    Layout = "_Layout";
}

<div class="container">
    <button class="btn btn-warning" onclick="location.href='@Url.Action("index", "Home")'">Return Home</button>
    <button class="btn btn-success" onclick="location.href='@Url.Action("Create")'">Add Product</button>

    @foreach (var product in Model)
    {
        <div class="product panel panel-default">
            <div class="panel-heading">
                @{
                    double rating = product.GetAverageRating();
                    string ratingString = (rating >= 0) ? rating.ToString() : "No Reviews";
                }
                <h2>@Html.ActionLink(product.Name, "details", new { id = product.Id })</h2>
                <h3>Average Rating: @ratingString</h3>
            </div>
            <div class="panel-body">
                <h3>Price: @product.DisplayPrice("$")</h3>
            </div>
        </div>
    }
</div>